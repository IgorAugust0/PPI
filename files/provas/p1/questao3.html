<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>12011bsi290</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
</head>

<body>
    <div class="container">
        <main>
            <h1>Cadastro de Veículos</h1>
            <form action="cadastraVeiculo.php" method="post">
                <div class="row">
                    <div class="col-4 mb-3">
                        <label class="form-label" for="marca">Marca</label>
                        <input class="form-control" type="text" name="marca" id="marca">
                    </div>
                    <div class="col-8 mb-3">
                        <label class="form-label" for="modelo">Modelo</label>
                        <input class="form-control" type="text" name="modelo" id="modelo">
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-4 mb-3">
                        <label class="form-label" for="cor">Cor</label>
                        <input class="form-control" type="text" name="cor" id="cor">
                    </div>
                    <div class="col-lg-4 mb-3">
                        <label class="form-label" for="dataDeFabricacao">Data de Fabrição</label>
                        <input class="form-control" type="date" id="dataDeFabricacao">
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-4 mb-3">
                        <label class="form-label" for="tipo">Tipo</label>
                        <select class="form-select" name="selectTipo" id="tipo">
                            <option value="selecione">Selecione</option>
                            <option value="carro">Carro</option>
                            <option value="moto">Moto</option>
                            <option value="caminhao">Caminhão</option>
                        </select>
                    </div>
                    <div class="col-lg-4 mb-3">
                        <label class="form-label" for="novoTipo">Novo Tipo</label>
                        <input class="form-control" type="text" name="novoTipo" id="novoTipo">
                    </div>
                    <div class="col-lg-4 mb-3 mt-4">
                        <button class="btn btn-primary" id="addTipo">Adicionar</button>
                    </div>
                </div>
                <div class="row">
                    <fieldset>
                        <legend>Possui opcionais?</legend>
                        <div class="col-lg-4 mb-2 form-check">
                            <input type="checkbox" class="form-check-input" name="arCondicionado" id="arCondicionado"
                                value="arCondicionado">
                            <label class="form-check-label" for="arCondicionado">Ar Condicionado</label>
                        </div>
                        <div class="col-lg-4 mb-2 form-check">
                            <input type="checkbox" class="form-check-input" name="centralMultimidia"
                                id="centralMultimidia" value="centralMultimidia">
                            <label class="form-check-label" for="centralMultimidia">Central Multimidia</label>
                        </div>
                        <div class="col-lg-4 mb-3 form-check">
                            <input type="checkbox" class="form-check-input" name="gps" id="gps" value="gps">
                            <label class="form-check-label" for="gps">GPS</label>
                        </div>
                    </fieldset>
                </div>
                <div class="row">
                    <div class="col-12 mb-4">
                        <label class="form-label" for="descricao">Descrição</label>
                        <textarea class="form-control" id="mensagem" name="descricao" rows="5" maxlength="1000"
                            style="height: 100%;" title="Insira sua descricao aqui"></textarea>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12 mb-3 mt-3">
                        <label class="form-label" for="foto">Foto</label>
                        <input type="file" name="foto" id="foto">
                    </div>
                </div>
                <div class="row">
                    <div class="col-12">
                        <div class="mb-4 mt-1">
                            <button type="submit" class="btn btn-primary">Cadastrar</button>
                        </div>
                    </div>
                </div>
            </form>
        </main>
    </div>
    <script>
        const form = document.querySelector('form');
        const marca = document.querySelector('#marca');
        const modelo = document.querySelector('#modelo');
        const marcaError = createErrorMessage(marca, 'A marca deve ter no mínimo 4 caracteres');
        const modeloError = createErrorMessage(modelo, 'O modelo deve ter no mínimo 4 caracteres');

        form.addEventListener('submit', function (e) {
            if (marca.value.length < 4 || modelo.value.length < 4) {
                e.preventDefault();
            }
            marcaError.style.display = marca.value.length < 4 ? 'block' : 'none';
            modeloError.style.display = modelo.value.length < 4 ? 'block' : 'none';
        });

        function createErrorMessage(element, message) {
            const error = document.createElement('p');
            error.textContent = message;
            error.style.color = 'red';
            error.style.display = 'none';
            element.insertAdjacentElement('afterend', error);
            return error;
        }

        const tipoSelect = document.querySelector('#tipo');
        const novoTipoInput = document.querySelector('#novoTipo');
        const addTipoButton = document.querySelector('#addTipo');

        addTipoButton.addEventListener('click', () => {
            const novoTipo = novoTipoInput.value.trim();
            if (novoTipo !== '') {
                const option = document.createElement('option');
                option.value = novoTipo.toLowerCase().replace(' ', '-');
                option.text = novoTipo;
                tipoSelect.add(option);
                novoTipoInput.value = '';
            }
        });
    </script>

</body>

</html>